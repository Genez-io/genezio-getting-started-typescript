"use strict";(()=>{var c=null,d=null,T=!1;async function v(){typeof process<"u"&&process.versions!=null&&process.versions.node!=null&&(c=await import("http"),d=await import("https")),T=!0}async function b(n,e){return(await fetch(`${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}async function w(n,e,t){let a=JSON.stringify(n),s=new URL(e),l={hostname:s.hostname,path:s.search?s.pathname+s.search:s.pathname,port:s.port,method:"POST",headers:{"Content-Type":"application/json","Content-Length":a.length},agent:t},p=e.includes("https")?d:c;return new Promise((k,f)=>{let g=p.request(l,u=>{let y="";u.on("data",h=>{y+=h}),u.on("end",async function(){let h=JSON.parse(y);k(h)})});g.on("error",u=>{f(u)}),g.write(a),g.end()})}var m=class{constructor(e){this.url=void 0;this.agent=void 0;if(this.url=e,c!==null&&d!==null){let t=e.includes("https")?d:c;this.agent=new t.Agent({keepAlive:!0})}}async call(e,...t){let a={jsonrpc:"2.0",method:e,params:t,id:3},s;return T||await v(),c!==null&&d!==null?s=await w(a,this.url,this.agent):s=await b(a,this.url),s.error?s.error.message:s.result}};var o=class o{static async getAllTasksByUser(e){return await o.remote.call("TaskService.getAllTasksByUser",e)}static async createTask(e,t){return await o.remote.call("TaskService.createTask",e,t)}static async updateTask(e,t,a,s){return await o.remote.call("TaskService.updateTask",e,t,a,s)}static async deleteTask(e,t){return await o.remote.call("TaskService.deleteTask",e,t)}};o.remote=new m("https://hv3nrbvb75rgdpw2pocgcunrcm0qoynx.lambda-url.us-east-1.on.aws/TaskService");var r=o;var x=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#DC3545" class="bi bi-trash-fill" viewBox="0 0 16 16">
<path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
</svg>`,i=localStorage.getItem("apiToken");i||(i=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),localStorage.setItem("apiToken",i));async function M(){document.getElementById("modal-error-elem").innerHTML="";let n=document.getElementById("task-title-input").value;if(!n){document.getElementById("modal-error-elem").innerHTML="Title is mandatory";return}r.createTask(i,n).then(e=>{e.success&&location.reload()})}document.getElementById("add-task-btn").addEventListener("click",async n=>{n.preventDefault(),M()});r.getAllTasksByUser(i).then(n=>{if(n.success)for(let t of n.tasks){let a=document.getElementById("tasks"),s=`<span>${t.title}</span>`,l=t.url?`at <a href="${t.url}" target="_blank"> ${t.url}</a>`:"",p=t.solved?"checked":"",k=`<button class="btn" onclick="">${x}</button>`;a.innerHTML+=`
        <div class="mb-3">
            <div class="d-flex align-items-center">
                <input type="checkbox" ${t.solved?"checked":""} class="task_checkbox" id=${t.id}>
                <p class="mb-0" style="margin-right: auto; margin-left: 20px">
                  ${s}
                  ${l}
                </p>
                <span class="d-inline-block" tabindex="0" data-toggle="tooltip" title="Check out genezio challenge">
                  ${k}
                </span>
            </div>
        </div>
        `}let e=document.getElementsByClassName("task_checkbox");for(let t of e)t.addEventListener("change",async a=>{let s=a.target.id,l=n.tasks.find(p=>p.id===s);await r.updateTask(i,s,l.title,a.target.checked)})});})();
//# sourceMappingURL=bundle.js.map
